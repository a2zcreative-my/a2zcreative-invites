(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{2657:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5311:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var r=t(5155),s=t(2115),n=t(6874),l=t.n(n),i=t(5695),o=t(8749),c=t(2657);function d(){let e=(0,i.useSearchParams)().get("token"),[a,t]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!0),[k,y]=(0,s.useState)(""),[b,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[S,A]=(0,s.useState)("");(0,s.useEffect)(()=>{e?C():(f(!1),y("Token reset tidak dijumpai. Sila minta pautan reset baru."))},[e]);let C=async()=>{try{let a=await fetch("/api/auth/reset-password?token=".concat(e)),t=await a.json();t.valid?(v(!0),A(t.email||"")):y(t.error||"Token tidak sah atau telah tamat tempoh.")}catch(e){y("Ralat rangkaian. Sila cuba lagi.")}finally{f(!1)}},P=async t=>{if(t.preventDefault(),y(""),a!==n)return void y("Kata laluan tidak sepadan");if(a.length<6)return void y("Kata laluan mestilah sekurang-kurangnya 6 aksara");g(!0);try{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:a})}),r=await t.json();if(!t.ok){y((null==r?void 0:r.error)||"Ralat berlaku"),g(!1);return}N(!0)}catch(e){y("Ralat rangkaian. Sila cuba lagi.")}finally{g(!1)}};return j?(0,r.jsxs)("div",{className:"auth-card",style:{textAlign:"center"},children:[(0,r.jsx)("div",{className:"spinner-large"}),(0,r.jsx)("p",{style:{color:"#a0aec0"},children:"Mengesahkan pautan..."})]}):(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsx)("h2",{children:"Set Semula Kata Laluan"}),w?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid #22c55e",color:"#22c55e",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"0.9rem"},children:"Kata laluan berjaya dikemaskini!"}),(0,r.jsx)("p",{style:{color:"#a0aec0",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Sila log masuk dengan kata laluan baru anda."}),(0,r.jsx)(l(),{href:"/auth/login",className:"btn btn-gold btn-full",children:"Log Masuk"})]}):b?(0,r.jsxs)(r.Fragment,{children:[S&&(0,r.jsxs)("p",{style:{color:"#a0aec0",marginBottom:"1.5rem",fontSize:"0.9rem"},children:["Menetapkan kata laluan baru untuk ",(0,r.jsx)("strong",{style:{color:"#d4af37"},children:S})]}),k&&(0,r.jsx)("div",{className:"auth-error",children:k}),(0,r.jsxs)("form",{className:"auth-form",onSubmit:P,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Kata Laluan Baru"}),(0,r.jsxs)("div",{className:"password-wrapper",children:[(0,r.jsx)("input",{type:u?"text":"password",id:"password",placeholder:"••••••••",value:a,onChange:e=>t(e.target.value),required:!0,minLength:6,disabled:x}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>h(!u),disabled:x,children:u?(0,r.jsx)(o.A,{size:20}):(0,r.jsx)(c.A,{size:20})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",children:"Sahkan Kata Laluan"}),(0,r.jsxs)("div",{className:"password-wrapper",children:[(0,r.jsx)("input",{type:m?"text":"password",id:"confirmPassword",placeholder:"••••••••",value:n,onChange:e=>d(e.target.value),required:!0,minLength:6,disabled:x}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>p(!m),disabled:x,children:m?(0,r.jsx)(o.A,{size:20}):(0,r.jsx)(c.A,{size:20})})]})]}),(0,r.jsx)("button",{type:"submit",className:"auth-submit",disabled:x,children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner"}),(0,r.jsx)("span",{children:"Menyimpan..."})]}):(0,r.jsx)("span",{children:"Set Semula Kata Laluan"})})]}),(0,r.jsx)("div",{className:"auth-footer",children:(0,r.jsx)(l(),{href:"/auth/login",children:"Kembali ke log masuk"})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"auth-error",children:k}),(0,r.jsx)("p",{style:{color:"#a0aec0",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Token reset mungkin telah tamat tempoh atau tidak sah."}),(0,r.jsx)(l(),{href:"/auth/forgot-password",className:"btn btn-gold btn-full",children:"Minta Pautan Reset Baru"})]})]})}function u(){return(0,r.jsxs)("div",{className:"auth-card",style:{textAlign:"center"},children:[(0,r.jsx)("div",{className:"spinner-large"}),(0,r.jsx)("p",{style:{color:"#a0aec0"},children:"Memuatkan..."})]})}function h(){return(0,r.jsx)("div",{className:"auth-page",children:(0,r.jsxs)("div",{className:"auth-container",children:[(0,r.jsxs)("div",{className:"auth-logo",children:[(0,r.jsxs)(l(),{href:"/",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",textDecoration:"none"},children:[(0,r.jsx)("img",{src:"/logo.png",alt:"A2Z Creative",height:"48"}),(0,r.jsx)("span",{className:"logo-text-gradient",style:{fontSize:"1.5rem"},children:"A2ZCreative"})]}),(0,r.jsx)("p",{children:"Jemputan Digital Profesional"})]}),(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(u,{}),children:(0,r.jsx)(d,{})})]})})}},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},7706:(e,a,t)=>{Promise.resolve().then(t.bind(t,5311))},8749:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9946:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var r=t(2115);let s=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},n=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:a,...l,width:s,height:s,stroke:t,strokeWidth:o?24*Number(i)/Number(s):i,className:n("lucide",c),...!d&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(d)?d:[d]])}),o=(e,a)=>{let t=(0,r.forwardRef)((t,l)=>{let{className:o,...c}=t;return(0,r.createElement)(i,{ref:l,iconNode:a,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return t.displayName=s(e),t}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=7706)),_N_E=e.O()}]);