(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{2657:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3976:(e,a,s)=>{Promise.resolve().then(s.bind(s,6117))},6117:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var r=s(5155),t=s(2115),i=s(6874),n=s.n(i),l=s(8749),d=s(2657);function o(){let[e,a]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[s,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[h,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[x,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/auth/session",{credentials:"include"});if(e.ok){let a=await e.json();(null==a?void 0:a.authenticated)&&(window.location.href="/dashboard")}}catch(e){console.log("Session check failed")}},j=e=>{a(a=>({...a,[e.target.name]:e.target.value}))},w=async a=>{if(a.preventDefault(),u(""),e.password!==e.confirmPassword)return void u("Kata laluan tidak sepadan");p(!0),f(!0);try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password}),credentials:"include"}),s=await a.json();if(!a.ok){u((null==s?void 0:s.error)||"Pendaftaran gagal"),f(!1),p(!1);return}(null==s?void 0:s.user)&&localStorage.setItem("a2z_user",JSON.stringify(s.user)),await new Promise(e=>setTimeout(e,1e3)),window.location.href=(null==s?void 0:s.redirect)||"/dashboard"}catch(e){u((null==e?void 0:e.message)||"Ralat rangkaian"),f(!1),p(!1)}};return(0,r.jsxs)("div",{className:"auth-page",children:[x&&(0,r.jsx)("div",{className:"loading-overlay",children:(0,r.jsxs)("div",{className:"loading-card",children:[(0,r.jsx)("div",{className:"spinner-large"}),(0,r.jsx)("h2",{className:"loading-title",children:"Memproses Pendaftaran"}),(0,r.jsx)("p",{className:"loading-text",children:"Mencipta akaun anda..."})]})}),(0,r.jsxs)("div",{className:"auth-container",children:[(0,r.jsxs)("div",{className:"auth-logo",children:[(0,r.jsxs)(n(),{href:"/",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",textDecoration:"none"},children:[(0,r.jsx)("img",{src:"/logo.png",alt:"A2Z Creative",height:"48",style:{height:"48px",width:"auto"}}),(0,r.jsx)("span",{className:"logo-text-gradient",style:{fontSize:"1.5rem"},children:"A2ZCreative"})]}),(0,r.jsx)("p",{children:"Jemputan Digital Profesional"})]}),(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsx)("h2",{children:"Daftar Akaun Baru"}),h&&(0,r.jsx)("div",{className:"auth-error",children:h}),(0,r.jsxs)("form",{className:"auth-form",onSubmit:w,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"name",children:"Nama Penuh"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:j,placeholder:"Masukkan nama anda",required:!0,disabled:m})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Emel"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:j,placeholder:"nama@contoh.com",required:!0,disabled:m})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Kata Laluan"}),(0,r.jsxs)("div",{className:"password-wrapper",children:[(0,r.jsx)("input",{type:s?"text":"password",id:"password",name:"password",value:e.password,onChange:j,placeholder:"••••••••",required:!0,minLength:6,disabled:m}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>i(!s),disabled:m,children:s?(0,r.jsx)(l.A,{size:20}):(0,r.jsx)(d.A,{size:20})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",children:"Sahkan Kata Laluan"}),(0,r.jsxs)("div",{className:"password-wrapper",children:[(0,r.jsx)("input",{type:o?"text":"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:j,placeholder:"••••••••",required:!0,minLength:6,disabled:m}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>c(!o),disabled:m,children:o?(0,r.jsx)(l.A,{size:20}):(0,r.jsx)(d.A,{size:20})})]})]}),(0,r.jsx)("button",{type:"submit",className:"auth-submit",disabled:m,children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner"}),(0,r.jsx)("span",{children:"Memproses..."})]}):(0,r.jsx)("span",{children:"Daftar"})})]}),(0,r.jsxs)("div",{className:"auth-footer",children:["Sudah ada akaun?"," ",(0,r.jsx)(n(),{href:"/auth/login",children:"Log masuk"})]})]})]})]})}},8749:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9946:(e,a,s)=>{"use strict";s.d(a,{A:()=>d});var r=s(2115);let t=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},i=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,a)=>{let{color:s="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:h,...u}=e;return(0,r.createElement)("svg",{ref:a,...n,width:t,height:t,stroke:s,strokeWidth:d?24*Number(l)/Number(t):l,className:i("lucide",o),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[a,s]=e;return(0,r.createElement)(a,s)}),...Array.isArray(c)?c:[c]])}),d=(e,a)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:d,...o}=s;return(0,r.createElement)(l,{ref:n,iconNode:a,className:i("lucide-".concat(t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return s.displayName=t(e),s}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=3976)),_N_E=e.O()}]);