(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{2657:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3783:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},4416:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4783:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},4835:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5695:(e,a,d)=>{"use strict";var s=d(8999);d.o(s,"usePathname")&&d.d(a,{usePathname:function(){return s.usePathname}}),d.o(s,"useRouter")&&d.d(a,{useRouter:function(){return s.useRouter}}),d.o(s,"useSearchParams")&&d.d(a,{useSearchParams:function(){return s.useSearchParams}})},6588:(e,a,d)=>{Promise.resolve().then(d.bind(d,7053))},7053:(e,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>p});var s=d(5155),r=d(9137),t=d.n(r),i=d(2115),o=d(6874),n=d.n(o),l=d(5695),c=d(2657),h=d(3783),b=d(7939);let x=(0,d(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=d(4416),f=d(4835),g=d(4783);let u={super_admin:[{path:"/dashboard/godeyes",label:"God's Eye",icon:c.A},{path:"/dashboard/admin",label:"Admin",icon:h.A},{path:"/dashboard/agent",label:"Agent",icon:b.A}],admin:[{path:"/dashboard/admin",label:"Dashboard",icon:h.A}],event_admin:[{path:"/dashboard/admin",label:"Dashboard",icon:h.A}],agent:[{path:"/dashboard/agent",label:"Check-in",icon:b.A}]};function p(e){let{children:a}=e,d=(0,l.usePathname)(),[r,o]=(0,i.useState)(null),[c,h]=(0,i.useState)(!0),[b,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!async function(){try{let e=await fetch("/api/auth/validate-session");if(e.ok){let a=await e.json();a.valid&&o({role:a.role,email:a.email,name:a.name,userId:a.userId})}}catch(e){console.error("Failed to fetch session:",e)}finally{h(!1)}}()},[]);let j=(null==r?void 0:r.role)==="super_admin"&&(d.startsWith("/dashboard/admin")||d.startsWith("/dashboard/agent")),v=(null==r?void 0:r.role)&&u[r.role]||[];return c?(0,s.jsxs)("div",{className:"dashboard-loading",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("p",{children:"Loading dashboard..."})]}):(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 dashboard-layout",children:[j&&(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 monitor-banner",children:[(0,s.jsx)(x,{size:16}),(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40",children:"Viewing as SUPER_ADMIN (Monitor Mode)"})]}),(0,s.jsxs)("aside",{className:"jsx-ef312d0b0a97de40 "+"dashboard-sidebar ".concat(b?"open":""),children:[(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 sidebar-header",children:[(0,s.jsxs)(n(),{href:"/",className:"sidebar-logo",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"A2Z Creative",height:"32",className:"jsx-ef312d0b0a97de40"}),(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40 logo-text-gradient",children:"A2ZCreative"})]}),(0,s.jsx)("button",{onClick:()=>p(!1),className:"jsx-ef312d0b0a97de40 mobile-menu-close",children:(0,s.jsx)(m.A,{size:24})})]}),(0,s.jsx)("nav",{className:"jsx-ef312d0b0a97de40 sidebar-nav",children:v.map(e=>{let a=e.icon,r=d===e.path||d.startsWith(e.path+"/");return(0,s.jsxs)(n(),{href:e.path,className:"nav-item ".concat(r?"active":""),onClick:()=>p(!1),children:[(0,s.jsx)(a,{size:20,className:"jsx-ef312d0b0a97de40"}),(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40",children:e.label})]},e.path)})}),(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 sidebar-footer",children:[(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 user-info",children:[(0,s.jsx)("div",{className:"jsx-ef312d0b0a97de40 user-avatar",children:((null==r?void 0:r.name)||(null==r?void 0:r.email)||"U").charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"jsx-ef312d0b0a97de40 user-details",children:[(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40 user-name",children:(null==r?void 0:r.name)||"User"}),(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40 user-role",children:null==r?void 0:r.role})]})]}),(0,s.jsxs)(n(),{href:"/api/auth/logout",className:"logout-btn",children:[(0,s.jsx)(f.A,{size:18}),(0,s.jsx)("span",{className:"jsx-ef312d0b0a97de40",children:"Log Keluar"})]})]})]}),(0,s.jsxs)("header",{className:"jsx-ef312d0b0a97de40 dashboard-mobile-header",children:[(0,s.jsx)("button",{onClick:()=>p(!0),className:"jsx-ef312d0b0a97de40 mobile-menu-toggle",children:(0,s.jsx)(g.A,{size:24})}),(0,s.jsx)(n(),{href:"/",className:"mobile-logo",children:(0,s.jsx)("img",{src:"/logo.png",alt:"A2Z Creative",height:"28",className:"jsx-ef312d0b0a97de40"})})]}),(0,s.jsx)("main",{className:"jsx-ef312d0b0a97de40 dashboard-content",children:a}),b&&(0,s.jsx)("div",{onClick:()=>p(!1),className:"jsx-ef312d0b0a97de40 mobile-overlay"}),(0,s.jsx)(t(),{id:"ef312d0b0a97de40",children:".dashboard-layout.jsx-ef312d0b0a97de40{display:flex;min-height:100vh;background:var(--bg-base)}.monitor-banner.jsx-ef312d0b0a97de40{position:fixed;top:0;left:0;right:0;z-index:1000;background:linear-gradient(90deg,#f59e0b,#d97706);color:#000;padding:.5rem 1rem;display:flex;align-items:center;justify-content:center;gap:.5rem;font-weight:600;font-size:.875rem}.dashboard-sidebar.jsx-ef312d0b0a97de40{width:260px;background:var(--bg-surface);border-right:1px solid var(--border-glass);display:flex;flex-direction:column;padding:1.5rem;position:fixed;left:0;top:0;bottom:0;z-index:100}.sidebar-header.jsx-ef312d0b0a97de40{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border-glass)}.sidebar-logo.jsx-ef312d0b0a97de40{display:flex;align-items:center;gap:.75rem;text-decoration:none}.mobile-menu-close.jsx-ef312d0b0a97de40{display:none;background:none;border:none;color:var(--text-secondary);cursor:pointer}.sidebar-nav.jsx-ef312d0b0a97de40{flex:1;display:flex;flex-direction:column;gap:.5rem}.nav-item.jsx-ef312d0b0a97de40{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:var(--radius-lg);color:var(--text-secondary);text-decoration:none;transition:all.2s ease}.nav-item.jsx-ef312d0b0a97de40:hover{background:var(--glass-bg-light);color:var(--text-primary)}.nav-item.active.jsx-ef312d0b0a97de40{background:var(--glass-bg-medium);color:var(--brand-gold)}.sidebar-footer.jsx-ef312d0b0a97de40{margin-top:auto;padding-top:1rem;border-top:1px solid var(--border-glass)}.user-info.jsx-ef312d0b0a97de40{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.user-avatar.jsx-ef312d0b0a97de40{width:40px;height:40px;background:var(--brand-gold);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--bg-base)}.user-details.jsx-ef312d0b0a97de40{display:flex;flex-direction:column}.user-name.jsx-ef312d0b0a97de40{color:var(--text-primary);font-weight:500}.user-role.jsx-ef312d0b0a97de40{color:var(--text-muted);font-size:.75rem;text-transform:capitalize}.logout-btn.jsx-ef312d0b0a97de40{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius-lg);color:var(--text-muted);text-decoration:none;transition:all.2s ease}.logout-btn.jsx-ef312d0b0a97de40:hover{background:rgba(239,68,68,.1);color:#ef4444}.dashboard-mobile-header.jsx-ef312d0b0a97de40{display:none}.dashboard-content.jsx-ef312d0b0a97de40{flex:1;margin-left:260px;padding:2rem;min-height:100vh}.dashboard-loading.jsx-ef312d0b0a97de40{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;color:var(--text-secondary)}.mobile-overlay.jsx-ef312d0b0a97de40{display:none}@media(max-width:768px){.dashboard-sidebar.jsx-ef312d0b0a97de40{transform:translatex(-100%);transition:transform.3s ease}.dashboard-sidebar.open.jsx-ef312d0b0a97de40{transform:translatex(0)}.mobile-menu-close.jsx-ef312d0b0a97de40{display:block}.dashboard-mobile-header.jsx-ef312d0b0a97de40{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-surface);border-bottom:1px solid var(--border-glass);position:fixed;top:0;left:0;right:0;z-index:50}.mobile-menu-toggle.jsx-ef312d0b0a97de40{background:none;border:none;color:var(--text-secondary);cursor:pointer}.dashboard-content.jsx-ef312d0b0a97de40{margin-left:0;margin-top:60px;padding:1rem}.mobile-overlay.jsx-ef312d0b0a97de40{display:block;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:99}}"})]})}},7939:(e,a,d)=>{"use strict";d.d(a,{A:()=>s});let s=(0,d(9946).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])}},e=>{e.O(0,[874,953,441,964,358],()=>e(e.s=6588)),_N_E=e.O()}]);