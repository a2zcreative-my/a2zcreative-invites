(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53795,e=>{"use strict";var a=e.i(43476),s=e.i(71645);function r(){let[e,r]=(0,s.useState)("Memproses log masuk..."),[t,l]=(0,s.useState)("");(0,s.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=new URLSearchParams(window.location.hash.substring(1)).get("access_token");if(!e){let e=new URLSearchParams(window.location.search),a=e.get("error_description")||e.get("error");if(a){l(a),r("Log masuk gagal");return}l("Token akses tidak ditemui"),r("Log masuk gagal");return}r("Menyegerakkan akaun...");let a=await fetch("/api/auth/oauth-callback",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({access_token:e})}),s=await a.json();a.ok&&s.success?(s.user&&localStorage.setItem("a2z_user",JSON.stringify({name:s.user.name,email:s.user.email,role:s.user.role,avatar_url:s.user.avatar_url})),r("Log masuk berjaya! Mengalihkan..."),setTimeout(()=>{window.location.href=s.redirect||"/pricing/"},1e3)):(l(s.error||"Gagal menyegerakkan akaun"),r("Log masuk gagal"))}catch(e){console.error("OAuth callback error:",e),l("Ralat berlaku semasa log masuk"),r("Log masuk gagal")}};return(0,a.jsx)("div",{className:"auth-page",children:(0,a.jsxs)("div",{className:"loading-overlay",style:{display:"flex"},children:[(0,a.jsxs)("div",{className:"auth-logo",style:{marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[(0,a.jsx)("img",{src:"/logo.png",alt:"A2Z Creative",height:"48"}),(0,a.jsx)("span",{className:"logo-text-gradient",style:{fontSize:"1.5rem"},children:"A2ZCreative"})]}),(0,a.jsx)("div",{className:"loading-card",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"loading-title",style:{color:"#ff6b6b"},children:"Log Masuk Gagal"}),(0,a.jsx)("p",{className:"loading-text",style:{color:"#ff6b6b"},children:t}),(0,a.jsx)("a",{href:"/auth/login",className:"btn btn-primary",style:{marginTop:"1.5rem"},children:"Cuba Lagi"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"spinner-large"}),(0,a.jsx)("h2",{className:"loading-title",children:"Memproses Log Masuk"}),(0,a.jsx)("p",{className:"loading-text",children:e})]})})]})})}e.s(["default",()=>r])}]);