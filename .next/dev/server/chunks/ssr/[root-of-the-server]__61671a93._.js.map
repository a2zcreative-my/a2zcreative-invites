{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GWI/Desktop/a2zcreative-invites-main/src/app/auth/register/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Eye, EyeOff } from 'lucide-react';\n\nexport default function RegisterPage() {\n    const [formData, setFormData] = useState({\n        name: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n    });\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [showLoadingOverlay, setShowLoadingOverlay] = useState(false);\n\n    useEffect(() => {\n        checkSession();\n    }, []);\n\n    const checkSession = async () => {\n        try {\n            const response = await fetch('/api/auth/session', { credentials: 'include' });\n            if (response.ok) {\n                const data = await response.json() as any;\n                if (data?.authenticated) window.location.href = '/dashboard';\n            }\n        } catch (error) {\n            console.log('Session check failed');\n        }\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData(prev => ({\n            ...prev,\n            [e.target.name]: e.target.value\n        }));\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError('');\n\n        if (formData.password !== formData.confirmPassword) {\n            setError('Kata laluan tidak sepadan');\n            return;\n        }\n\n        setLoading(true);\n        setShowLoadingOverlay(true);\n\n        try {\n            const response = await fetch('/api/auth/register', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    name: formData.name,\n                    email: formData.email,\n                    password: formData.password\n                }),\n                credentials: 'include'\n            });\n\n            const data = await response.json() as any;\n\n            if (!response.ok) {\n                setError(data?.error || 'Pendaftaran gagal');\n                setShowLoadingOverlay(false);\n                setLoading(false);\n                return;\n            }\n\n            if (data?.user) {\n                localStorage.setItem('a2z_user', JSON.stringify(data.user));\n            }\n\n            await new Promise(resolve => setTimeout(resolve, 1000));\n            window.location.href = data?.redirect || '/dashboard';\n        } catch (err: any) {\n            setError(err?.message || 'Ralat rangkaian');\n            setShowLoadingOverlay(false);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"auth-page\">\n            {showLoadingOverlay && (\n                <div className=\"loading-overlay\">\n                    <div className=\"loading-card\">\n                        <div className=\"spinner-large\"></div>\n                        <h2 className=\"loading-title\">Memproses Pendaftaran</h2>\n                        <p className=\"loading-text\">Mencipta akaun anda...</p>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"auth-container\">\n                <div className=\"auth-logo\">\n                    <Link href=\"/\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '12px', textDecoration: 'none' }}>\n                        <img src=\"/logo.png\" alt=\"A2Z Creative\" height=\"48\" />\n                        <span className=\"logo-text-gradient\" style={{ fontSize: '1.5rem' }}>A2ZCreative</span>\n                    </Link>\n                    <p>Jemputan Digital Profesional</p>\n                </div>\n\n                <div className=\"auth-card\">\n                    <h2>Daftar Akaun Baru</h2>\n\n                    {error && <div className=\"auth-error\">{error}</div>}\n\n                    <form className=\"auth-form\" onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"name\">Nama Penuh</label>\n                            <input\n                                type=\"text\"\n                                id=\"name\"\n                                name=\"name\"\n                                value={formData.name}\n                                onChange={handleChange}\n                                placeholder=\"Masukkan nama anda\"\n                                required\n                                disabled={loading}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"email\">Emel</label>\n                            <input\n                                type=\"email\"\n                                id=\"email\"\n                                name=\"email\"\n                                value={formData.email}\n                                onChange={handleChange}\n                                placeholder=\"nama@contoh.com\"\n                                required\n                                disabled={loading}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Kata Laluan</label>\n                            <div className=\"password-wrapper\">\n                                <input\n                                    type={showPassword ? 'text' : 'password'}\n                                    id=\"password\"\n                                    name=\"password\"\n                                    value={formData.password}\n                                    onChange={handleChange}\n                                    placeholder=\"••••••••\"\n                                    required\n                                    minLength={6}\n                                    disabled={loading}\n                                />\n                                <button\n                                    type=\"button\"\n                                    className=\"password-toggle\"\n                                    onClick={() => setShowPassword(!showPassword)}\n                                    disabled={loading}\n                                >\n                                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                                </button>\n                            </div>\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"confirmPassword\">Sahkan Kata Laluan</label>\n                            <div className=\"password-wrapper\">\n                                <input\n                                    type={showConfirmPassword ? 'text' : 'password'}\n                                    id=\"confirmPassword\"\n                                    name=\"confirmPassword\"\n                                    value={formData.confirmPassword}\n                                    onChange={handleChange}\n                                    placeholder=\"••••••••\"\n                                    required\n                                    minLength={6}\n                                    disabled={loading}\n                                />\n                                <button\n                                    type=\"button\"\n                                    className=\"password-toggle\"\n                                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                                    disabled={loading}\n                                >\n                                    {showConfirmPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                                </button>\n                            </div>\n                        </div>\n\n                        <button type=\"submit\" className=\"auth-submit\" disabled={loading}>\n                            {loading ? (\n                                <>\n                                    <span className=\"spinner\"></span>\n                                    <span>Memproses...</span>\n                                </>\n                            ) : (\n                                <span>Daftar</span>\n                            )}\n                        </button>\n                    </form>\n\n                    <div className=\"auth-footer\">\n                        Sudah ada akaun?{' '}\n                        <Link href=\"/auth/login\">Log masuk</Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}