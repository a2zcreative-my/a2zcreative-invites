(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{1688:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]])},1976:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},2333:(e,a,t)=>{Promise.resolve().then(t.bind(t,8148))},3227:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},5196:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},7037:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]])},7580:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},8148:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var r=t(5155),s=t(2115),n=t(6874),i=t.n(n),l=t(5695),c=t(1976),d=t(1688),o=t(7580),h=t(3227),u=t(7037),m=t(9946);let p=(0,m.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var x=t(5196);let g=(0,m.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),b=[{id:"wedding",label:"Perkahwinan",icon:c.A,description:"Tema romantik & elegan"},{id:"birthday",label:"Hari Jadi",icon:d.A,description:"Ceria & menyeronokkan"},{id:"family",label:"Keluarga",icon:o.A,description:"Reunion & kenduri"},{id:"business",label:"Korporat",icon:h.A,description:"Profesional & rasmi"},{id:"community",label:"Komuniti",icon:u.A,description:"Persatuan & kelab"}],v={free:{name:"Percuma",price:"RM0",allowedEvents:["wedding","birthday","family","business","community"]},basic:{name:"Asas",price:"RM49",allowedEvents:["wedding","birthday","family","business","community"]},premium:{name:"Premium",price:"RM99",allowedEvents:["wedding","birthday","family"]},business:{name:"Bisnes",price:"RM199",allowedEvents:["business","community"]}};function k(){let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),[t,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[o,h]=(0,s.useState)(""),[u,m]=(0,s.useState)(null),[k,j]=(0,s.useState)(!1),f=a.get("package")||"free",y=v[f]||v.free;(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me",{headers:{"Cache-Control":"no-store"},credentials:"include"});if(e.ok){let a=await e.json();if(a.authenticated){m(a.user),j(!0);return}}}catch(e){console.error("Session check failed:",e)}localStorage.removeItem("a2z_user");let e="/create?package=".concat(f);window.location.href="/auth/login?redirect=".concat(encodeURIComponent(e))})()},[f]);let w=b.filter(e=>y.allowedEvents.includes(e.id)),N=async()=>{if(t){d(!0),h("");try{let a=await fetch("/api/events/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventType:t,planId:f}),credentials:"include"}),r=await a.json();if(a.ok&&r.success)e.push(r.redirect||"/dashboard?new=true");else{if(401===a.status){localStorage.removeItem("a2z_user"),window.location.href="/auth/login?redirect=".concat(encodeURIComponent(window.location.pathname+window.location.search));return}throw Error(r.error||"Gagal mencipta jemputan")}}catch(e){console.error(e),h(e.message||"Gagal mencipta jemputan. Sila cuba lagi."),d(!1)}}};return k?(0,r.jsxs)("div",{className:"landing-page min-h-screen pb-20",children:[(0,r.jsx)("nav",{className:"nav scrolled",style:{background:"rgba(2, 6, 23, 0.95)"},children:(0,r.jsxs)("div",{className:"nav-container",children:[(0,r.jsxs)(i(),{href:"/",className:"nav-logo flex items-center gap-2 no-underline",children:[(0,r.jsx)("img",{src:"/logo.png",alt:"A2Z",height:"32"}),(0,r.jsx)("span",{className:"logo-text-gradient text-xl",children:"A2ZCreative"})]}),(0,r.jsx)("div",{className:"nav-links",children:(0,r.jsx)(i(),{href:"/pricing",className:"nav-link text-sm",children:"Tukar Pakej"})})]})}),(0,r.jsxs)("div",{className:"container pt-32",children:[(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--brand-gold)]/10 border border-[var(--brand-gold)]/30 rounded-full text-[var(--brand-gold)] text-sm",children:[(0,r.jsx)(x.A,{size:16}),"Pakej Dipilih: ",(0,r.jsx)("strong",{children:y.name})," (",y.price,")"]})}),o&&(0,r.jsx)("div",{className:"max-w-2xl mx-auto mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-200 text-center",children:o}),(0,r.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-10",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Apakah jenis majlis anda?"}),(0,r.jsxs)("p",{className:"text-slate-400",children:["Pilih jenis majlis yang sesuai dengan pakej ",(0,r.jsx)("span",{className:"text-[var(--brand-gold)]",children:y.name})," anda."]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>{let a=e.icon,s=t===e.id;return(0,r.jsxs)("div",{onClick:()=>n(e.id),className:"cursor-pointer group relative p-6 rounded-2xl border transition-all duration-300\n                                        ".concat(s?"bg-[var(--brand-gold)]/10 border-[var(--brand-gold)] shadow-[0_0_30px_rgba(255,215,0,0.15)]":"bg-slate-900/40 border-slate-800 hover:border-slate-600 hover:bg-slate-800/60"),children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-colors\n                                        ".concat(s?"bg-[var(--brand-gold)] text-black":"bg-slate-800 text-slate-300 group-hover:text-white"),children:(0,r.jsx)(a,{size:24})}),(0,r.jsx)("h3",{className:"text-lg font-bold mb-2 ".concat(s?"text-[var(--brand-gold)]":"text-white"),children:e.label}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:e.description}),s&&(0,r.jsx)("div",{className:"absolute top-4 right-4",children:(0,r.jsx)("div",{className:"bg-[var(--brand-gold)] text-black rounded-full p-1",children:(0,r.jsx)(x.A,{size:12,strokeWidth:3})})})]},e.id)})}),w.length<b.length&&(0,r.jsxs)("p",{className:"text-center text-slate-500 text-sm mt-6",children:["Beberapa jenis majlis tidak tersedia untuk pakej ",y.name,".",(0,r.jsx)(i(),{href:"/pricing",className:"text-[var(--brand-gold)] ml-1 hover:underline",children:"Tukar pakej"})]}),(0,r.jsx)("div",{className:"mt-12 flex justify-center",children:(0,r.jsx)("button",{disabled:!t||c,onClick:N,className:"flex items-center gap-2 px-8 py-4 rounded-full font-bold transition-all\n                                ".concat(t&&!c?"bg-[var(--brand-gold)] text-[var(--bg-base)] hover:scale-105 shadow-[0_0_20px_rgba(255,215,0,0.3)]":"bg-slate-800 text-slate-500 cursor-not-allowed"),children:c?(0,r.jsx)(p,{size:18,className:"animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Cipta Jemputan ",(0,r.jsx)(g,{size:18})]})})})]})]})]}):(0,r.jsx)("div",{className:"landing-page flex items-center justify-center min-h-screen",children:(0,r.jsx)(p,{className:"animate-spin text-white",size:48})})}function j(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"landing-page flex items-center justify-center min-h-screen",children:(0,r.jsx)(p,{className:"animate-spin text-white",size:48})}),children:(0,r.jsx)(k,{})})}},9946:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var r=t(2115);let s=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},n=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...u}=e;return(0,r.createElement)("svg",{ref:a,...i,width:s,height:s,stroke:t,strokeWidth:c?24*Number(l)/Number(s):l,className:n("lucide",d),...!o&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(o)?o:[o]])}),c=(e,a)=>{let t=(0,r.forwardRef)((t,i)=>{let{className:c,...d}=t;return(0,r.createElement)(l,{ref:i,iconNode:a,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...d})});return t.displayName=s(e),t}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=2333)),_N_E=e.O()}]);